# android | 自定义视图

## 关于自定义视图（概述）

### 需要关注的问题

#### 1. 绘图

1. 相关class

- Canvas：画布
	* 画布旋转
	* 
- Paint：画笔

#### 2. 交互

1. 相关class
	
- TouchEvent：触摸
- Animation：动画

#### 3. 性能

1. 相关class和method

- SurfaceView
	+ 子线程
	+ 支持耗时操作，不会阻塞主线程，不会导致APP失去响应
- onDraw()：绘制相关内容
	+ 要考虑的问题：主线程安全问题
		* 一般的view是直接在主线程（UI线程）中直接绘制的，在主线程中绘制这些普通的view的时候，一定要考虑到主线程安全问题，即：不要将耗时操作放在绘制过程中，否则会导致主线程被阻塞，致使APP无法进行事件分发，无法响应用户的操作，甚至导致程序崩溃退出
	+ 如何解决主线程安全问题，绘制复杂的图形，或者执行耗时较久的计算，又不阻塞主线程，令主线程失去响应
		* 答案很简单，你使用SurfaceView就好了呀
			- SurfaceView是在子线程中进行界面绘制，在这里面执行耗时操作不会阻塞主线程哦

#### 4. 封装

1. 关注点：

- 属性
	+ 自定义view中可以封装自己独有的属性
- 尺寸
	+ 如果你想要你的自定义view支持多种硬件设备，你需要考虑它的通用性
	+ 如果你只是在特定场景下使用该自定义view，那你就不用过多地考虑不同设备上的组件尺寸适配问题